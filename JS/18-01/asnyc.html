<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        const myPromise = new Promise(callback);
        function callback(resolve, reject) {
            const error = true;
            if (!error) {
                setTimeout(() => {
                    resolve('success');
                }, 2000);
            } else {
                reject('error');
            }
        }
        myPromise
            .then(succ => {
                console.log(succ);
            })
            .catch(err => {
                console.log(err);
            })
            .finally(() => {
                console.log('promise completed')
            })

        //fetch
        const myData = fetch('https://jsonplaceholder.typicode.com/users');
        myData.then(data => {
            return realdata = data.json();
        })
            .then(myDatas => {
                console.log(myDatas);
            })
            .catch(err => {
                console.log(err)
            })
            .finally(() => {
                console.log('promise completed')
            })

        const detail = new Promise(callFront);
        function callFront(resolve, reject) {
            let code = true;
            if (code) {
                resolve("true")
            } else {
                reject("error")
            }
        }

        detail.then(details => {
            console.log(details);
        })

        // async

        async function names() {
            setTimeout(() => {
                console.log('completed')
            }, 3000);
        }
        names();

        // setInterval

        async function nameid (){
           const timeid = setInterval(() => {
                console.log("completed");
            },2000);

            setTimeout(() => {
                clearInterval(timeid);// clearing setInterval
            }, 5000);
        } 
        nameid();
        
        // callback

        function getData(callback) {
            callback();
            console.log('subash')
            callback();
        }
        function name() {
            console.log('lamp')
        }
        getData(name);

        // await

        async function getHere(params) {
            const newResult = await fetch('https://jsonplaceholder.typicode.com/photos');
            const data = await newResult.json();
            console.log(data);
        }

        getHere();

        // try catch
        async function fetchData() {
            try {
                let data = await new Promise((resolve, reject) => {
                    setTimeout(() => {
                        resolve("Fetched Data");
                    }, 2000);
                });
                console.log(data);  
            } catch (error) {
                console.log(error);  // If there's an error, it will be caught here
            }
        }

        fetchData();

    </script>
</body>

</html>